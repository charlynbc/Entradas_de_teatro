__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,S.jsxs)(v.Navigator,{screenOptions:{headerShown:!1},children:[(0,S.jsx)(v.Screen,{name:"SuperTabs",component:h}),(0,S.jsx)(v.Screen,{name:"Manual",component:p.default})]})};o(r(d[1]));var n=r(d[2]),t=r(d[3]),c=r(d[4]),l=o(r(d[5])),s=o(r(d[6])),u=o(r(d[7])),f=o(r(d[8])),p=o(r(d[9])),b=o(r(d[10])),S=r(d[11]);const j=(0,n.createBottomTabNavigator)(),v=(0,t.createNativeStackNavigator)(),x={Dashboard:'speedometer-outline',Directores:'people-circle-outline',Producciones:'color-palette-outline',Perfil:'person-circle-outline'};function h(){return(0,S.jsxs)(j.Navigator,{screenOptions:({route:o})=>({headerShown:!1,tabBarActiveTintColor:b.default.secondary,tabBarInactiveTintColor:b.default.textMuted,tabBarStyle:{backgroundColor:b.default.surface,borderTopColor:b.default.border},tabBarIcon:({color:n,size:t})=>(0,S.jsx)(c.Ionicons,{name:x[o.name],size:t,color:n})}),children:[(0,S.jsx)(j.Screen,{name:"Dashboard",component:l.default}),(0,S.jsx)(j.Screen,{name:"Directores",component:s.default}),(0,S.jsx)(j.Screen,{name:"Producciones",component:u.default}),(0,S.jsx)(j.Screen,{name:"Perfil",component:f.default})]})}},756,[1,14,707,475,538,759,760,761,744,749,535,352]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const[e,o]=(0,t.useState)(null),[w,b]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{(async()=>{try{const e=await(0,y.getSuperDashboard)();o(e)}finally{b(!1)}})()},[]),w)return(0,j.jsx)(i.default,{scrollable:!1,children:(0,j.jsx)(l.default,{style:p.center,children:(0,j.jsx)(r.default,{color:h.default.secondary})})});return(0,j.jsxs)(i.default,{children:[(0,j.jsx)(x.default,{variant:"card"}),(0,j.jsx)(s.default,{style:p.title,children:"Panel general"}),(0,j.jsx)(s.default,{style:p.subtitle,children:"Super usuario"}),(0,j.jsxs)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:p.statsRow,children:[(0,j.jsx)(u.default,{label:"Obras activas",value:e?.totals?.productions||0}),(0,j.jsx)(u.default,{label:"Funciones",value:e?.totals?.functions||0,gradient:h.default.gradientSecondary}),(0,j.jsx)(u.default,{label:"Tickets generados",value:e?.totals?.tickets||0,helper:`Vendidos: ${e?.totals?.sold||0}`}),(0,j.jsx)(u.default,{label:"Asistencias",value:e?.totals?.attendees||0})]}),(0,j.jsxs)(c.default,{title:"Alertas",subtitle:"Movimientos clave de directores",children:[(e?.alerts||[]).map(e=>(0,j.jsxs)(l.default,{style:p.alertRow,children:[(0,j.jsx)(l.default,{style:p.alertDot}),(0,j.jsxs)(l.default,{children:[(0,j.jsx)(s.default,{style:p.alertTitle,children:e.title}),(0,j.jsx)(s.default,{style:p.alertBody,children:e.body})]})]},e.id)),(!e?.alerts||0===e.alerts.length)&&(0,j.jsx)(s.default,{style:p.empty,children:"Sin novedades por ahora"})]}),(0,j.jsxs)(c.default,{title:"Pr\xf3ximas funciones",subtitle:"48 horas",children:[(e?.upcomingShows||[]).map(e=>(0,j.jsx)(f.default,{show:e,footer:(0,j.jsxs)(s.default,{style:p.showFooter,children:[e.ventasPagadas," entradas pagadas \xb7 ",e.actoresAsignados," actores"]})},e.id)),(!e?.upcomingShows||0===e.upcomingShows.length)&&(0,j.jsx)(s.default,{style:p.empty,children:"No hay funciones agendadas"})]})]})};var t=(function(e,t){if("function"==typeof WeakMap)var l=new WeakMap,s=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(o=t?s:l){if(o.has(e))return o.get(e);o.set(e,n)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?o(n,t,r):n[t]=e[t]);return n})(e,t)})(_r(d[1])),l=e(_r(d[2])),s=e(_r(d[3])),o=e(_r(d[4])),r=e(_r(d[5])),n=e(_r(d[6])),i=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),f=e(_r(d[10])),h=e(_r(d[11])),y=_r(d[12]),x=e(_r(d[13])),j=_r(d[14]);const p=o.default.create({title:{color:h.default.white,fontSize:24,fontWeight:'700'},subtitle:{color:h.default.textMuted,marginBottom:16},statsRow:{marginBottom:16},alertRow:{flexDirection:'row',gap:12,alignItems:'flex-start'},alertDot:{width:10,height:10,marginTop:6,borderRadius:5,backgroundColor:h.default.secondary},alertTitle:{color:h.default.white,fontWeight:'700'},alertBody:{color:h.default.textMuted},empty:{color:h.default.textSoft,fontStyle:'italic'},showFooter:{color:h.default.textMuted},center:{flex:1,justifyContent:'center',alignItems:'center'}})},759,[1,14,155,292,27,355,241,533,741,660,742,535,349,704,352]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const[e,n]=(0,t.useState)([]),[x,p]=(0,t.useState)(!0),[j,w]=(0,t.useState)([]),[v,C]=(0,t.useState)({nombre:'',cedula:''}),[T,k]=(0,t.useState)(!1),P=async(e,t,r)=>{window.confirm(`${e}\n\n${t}`)&&await r()},W=(e,t)=>{alert(`${e}\n\n${t}`)},D=async()=>{p(!0);try{const[e,t]=await Promise.all([(0,y.listDirectors)(),(0,y.listVendors)()]);n(e),w(t)}finally{p(!1)}};(0,t.useEffect)(()=>{D()},[]);const E=async e=>{P('Resetear contrasena',`Queres restablecer la contrasena de ${e} a 1234?`,async()=>{try{await(0,y.resetDirectorPassword)(e),W('Hecho','Contrasena reseteada')}catch(e){W('Error',e.message||'No se pudo resetear')}})};return(0,b.jsxs)(c.default,{children:[(0,b.jsxs)(u.default,{title:"Crear director",subtitle:"Cada director administra sus obras",children:[(0,b.jsx)(l.default,{style:h.input,placeholder:"Nombre",placeholderTextColor:f.default.textSoft,value:v.nombre,onChangeText:e=>C(t=>Object.assign({},t,{nombre:e}))}),(0,b.jsx)(l.default,{style:h.input,placeholder:"Cedula",placeholderTextColor:f.default.textSoft,value:v.cedula,onChangeText:e=>C(t=>Object.assign({},t,{cedula:e})),keyboardType:"numeric"}),(0,b.jsx)(s.default,{style:h.button,onPress:async()=>{if(v.nombre&&v.cedula){k(!0);try{await(0,y.createDirector)(v),C({nombre:'',cedula:''}),D(),W('Listo','Director creado con contrasena 1234')}catch(e){W('Error',e.message||'No se pudo crear')}finally{k(!1)}}else W('Falta info','Completa nombre y cedula')},disabled:T,children:T?(0,b.jsx)(i.default,{color:f.default.black}):(0,b.jsx)(o.default,{style:h.buttonText,children:"Crear director"})})]}),(0,b.jsx)(u.default,{title:"Directores activos",subtitle:`${e.length} cuentas`,children:x?(0,b.jsx)(i.default,{color:f.default.secondary}):e.map(e=>(0,b.jsxs)(r.default,{style:h.row,children:[(0,b.jsxs)(r.default,{children:[(0,b.jsx)(o.default,{style:h.name,children:e.nombre}),(0,b.jsx)(o.default,{style:h.meta,children:e.cedula}),(0,b.jsxs)(o.default,{style:h.meta,children:[e.obras," obras /  ",e.funciones," funciones"]})]}),(0,b.jsxs)(r.default,{style:h.actionsRow,children:[(0,b.jsx)(s.default,{onPress:()=>E(e.cedula),style:h.secondaryButton,children:(0,b.jsx)(o.default,{style:h.secondaryText,children:"Reset pass"})}),(0,b.jsx)(s.default,{onPress:()=>{return t=e.cedula,void P('Eliminar director',`Se van a borrar las obras y funciones asignadas a ${t}. Continuar?`,async()=>{try{await(0,y.deleteDirector)(t),D(),W('Listo','Director eliminado')}catch(e){W('Error',e.message||'No se pudo eliminar')}});var t},style:h.dangerButton,children:(0,b.jsx)(o.default,{style:h.dangerText,children:"Eliminar"})})]})]},e.cedula))}),(0,b.jsx)(u.default,{title:"Vendedores",subtitle:`${j.length} cuentas`,children:x?(0,b.jsx)(i.default,{color:f.default.secondary}):0===j.length?(0,b.jsx)(o.default,{style:h.empty,children:"Todavia no tenes vendedores"}):j.map(e=>(0,b.jsxs)(r.default,{style:h.row,children:[(0,b.jsxs)(r.default,{children:[(0,b.jsx)(o.default,{style:h.name,children:e.nombre}),(0,b.jsx)(o.default,{style:h.meta,children:e.cedula}),(0,b.jsxs)(o.default,{style:h.meta,children:["Stock ",e.stock," /  Vendidas ",e.vendidas," /  Pagadas ",e.pagadas]})]}),(0,b.jsx)(s.default,{onPress:()=>{return t=e.cedula,void P('Eliminar vendedor',`El stock de ${t} volvera a direccion. Confirmas?`,async()=>{try{await(0,y.deleteVendor)(t),D(),W('Listo','Vendedor eliminado')}catch(e){W('Error',e.message||'No se pudo eliminar')}});var t},style:h.dangerButton,children:(0,b.jsx)(o.default,{style:h.dangerText,children:"Eliminar"})})]},e.cedula))})]})};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?n(s,t,l):s[t]=e[t]);return s})(e,t)})(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),l=e(_r(d[5])),s=e(_r(d[6])),i=(e(_r(d[7])),e(_r(d[8]))),c=(e(_r(d[9])),e(_r(d[10]))),u=e(_r(d[11])),f=e(_r(d[12])),y=_r(d[13]),b=_r(d[14]);const h=n.default.create({input:{backgroundColor:f.default.surface,borderRadius:12,borderWidth:1,borderColor:f.default.border,padding:12,color:f.default.text},button:{backgroundColor:f.default.secondary,paddingVertical:14,borderRadius:12,alignItems:'center'},buttonText:{color:f.default.black,fontWeight:'700'},row:{flexDirection:'row',justifyContent:'space-between',paddingVertical:12,borderBottomWidth:1,borderBottomColor:f.default.border},actionsRow:{flexDirection:'row',gap:8},name:{color:f.default.white,fontWeight:'700'},meta:{color:f.default.textMuted,fontSize:12},secondaryButton:{paddingHorizontal:12,paddingVertical:8,borderRadius:10,borderWidth:1,borderColor:f.default.secondary},secondaryText:{color:f.default.secondary,fontWeight:'600'},dangerButton:{paddingHorizontal:12,paddingVertical:8,borderRadius:10,borderWidth:1,borderColor:f.default.error},dangerText:{color:f.default.error,fontWeight:'600'}})},760,[1,14,155,292,27,325,532,537,355,83,533,660,535,349,352]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const[e,r]=(0,t.useState)([]),[h,y]=(0,t.useState)({titulo:'',descripcion:'',color:'#F48C06'}),[j,C]=(0,t.useState)(!1),[w,v]=(0,t.useState)(!0),O=async()=>{v(!0);try{const e=await(0,p.listProductions)();r(e)}finally{v(!1)}};(0,t.useEffect)(()=>{O()},[]);return(0,b.jsxs)(u.default,{children:[(0,b.jsxs)(c.default,{title:"Nueva obra",subtitle:"Define la paleta y la sinopsis",children:[(0,b.jsx)(n.default,{style:x.input,placeholder:"Nombre de la obra",placeholderTextColor:f.default.textSoft,value:h.titulo,onChangeText:e=>y(t=>Object.assign({},t,{titulo:e}))}),(0,b.jsx)(n.default,{style:[x.input,x.multiline],placeholder:"Descripci\xf3n / sinopsis",placeholderTextColor:f.default.textSoft,multiline:!0,numberOfLines:3,value:h.descripcion,onChangeText:e=>y(t=>Object.assign({},t,{descripcion:e}))}),(0,b.jsx)(n.default,{style:x.input,placeholder:"#F48C06",placeholderTextColor:f.default.textSoft,value:h.color,onChangeText:e=>y(t=>Object.assign({},t,{color:e}))}),(0,b.jsx)(i.default,{style:x.button,onPress:async()=>{if(h.titulo){C(!0);try{await(0,p.createProduction)(h),y({titulo:'',descripcion:'',color:h.color}),O()}catch(e){alert(`Error\n\n${e.message||'No se pudo crear la obra'}`)}finally{C(!1)}}else alert('Falta t\xedtulo\n\nIngres\xe1 el nombre de la obra')},disabled:j,children:j?(0,b.jsx)(s.default,{color:f.default.black}):(0,b.jsx)(o.default,{style:x.buttonText,children:"Crear obra"})})]}),(0,b.jsx)(c.default,{title:"Obras en cartel",subtitle:`${e.length} proyectos`,children:w?(0,b.jsx)(s.default,{color:f.default.secondary}):0===e.length?(0,b.jsx)(o.default,{style:x.empty,children:"Todav\xeda no creaste obras"}):e.map(e=>(0,b.jsxs)(l.default,{style:x.row,children:[(0,b.jsx)(l.default,{style:x.colorDot(e.color)}),(0,b.jsxs)(l.default,{style:{flex:1},children:[(0,b.jsx)(o.default,{style:x.name,children:e.titulo}),(0,b.jsxs)(o.default,{style:x.meta,children:[e.funciones," funciones \xb7 ",e.entradas," entradas"]})]}),(0,b.jsx)(o.default,{style:x.meta,children:e.estado})]},e.id))})]})};var t=(function(e,t){if("function"==typeof WeakMap)var l=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,n,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?o:l){if(r.has(e))return r.get(e);r.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?r(i,t,n):i[t]=e[t]);return i})(e,t)})(_r(d[1])),l=e(_r(d[2])),o=e(_r(d[3])),r=e(_r(d[4])),n=e(_r(d[5])),i=e(_r(d[6])),s=(e(_r(d[7])),e(_r(d[8]))),u=(e(_r(d[9])),e(_r(d[10]))),c=e(_r(d[11])),f=e(_r(d[12])),p=_r(d[13]),b=_r(d[14]);const x=r.default.create({input:{backgroundColor:f.default.surface,borderRadius:12,borderWidth:1,borderColor:f.default.border,padding:12,color:f.default.text},multiline:{textAlignVertical:'top'},button:{backgroundColor:f.default.secondary,paddingVertical:14,borderRadius:12,alignItems:'center'},buttonText:{color:f.default.black,fontWeight:'700'},row:{flexDirection:'row',alignItems:'center',gap:12,paddingVertical:10,borderBottomWidth:1,borderBottomColor:f.default.border},colorDot:e=>({width:14,height:14,borderRadius:7,backgroundColor:e}),name:{color:f.default.white,fontWeight:'700'},meta:{color:f.default.textMuted,fontSize:12},empty:{color:f.default.textSoft,fontStyle:'italic'}})},761,[1,14,155,292,27,325,532,537,355,83,533,660,535,349,352]);