__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,S.jsxs)(v.Navigator,{screenOptions:{headerShown:!1},children:[(0,S.jsx)(v.Screen,{name:"SuperTabs",component:h}),(0,S.jsx)(v.Screen,{name:"Manual",component:p.default})]})};o(r(d[1]));var n=r(d[2]),t=r(d[3]),c=r(d[4]),l=o(r(d[5])),s=o(r(d[6])),u=o(r(d[7])),f=o(r(d[8])),p=o(r(d[9])),b=o(r(d[10])),S=r(d[11]);const j=(0,n.createBottomTabNavigator)(),v=(0,t.createNativeStackNavigator)(),x={Dashboard:'speedometer-outline',Directores:'people-circle-outline',Producciones:'color-palette-outline',Perfil:'person-circle-outline'};function h(){return(0,S.jsxs)(j.Navigator,{screenOptions:({route:o})=>({headerShown:!1,tabBarActiveTintColor:b.default.secondary,tabBarInactiveTintColor:b.default.textMuted,tabBarStyle:{backgroundColor:b.default.surface,borderTopColor:b.default.border},tabBarIcon:({color:n,size:t})=>(0,S.jsx)(c.Ionicons,{name:x[o.name],size:t,color:n})}),children:[(0,S.jsx)(j.Screen,{name:"Dashboard",component:l.default}),(0,S.jsx)(j.Screen,{name:"Directores",component:s.default}),(0,S.jsx)(j.Screen,{name:"Producciones",component:u.default}),(0,S.jsx)(j.Screen,{name:"Perfil",component:f.default})]})}},755,[1,14,706,475,538,758,759,760,743,748,535,352]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const[e,o]=(0,t.useState)(null),[w,b]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{(async()=>{try{const e=await(0,y.getSuperDashboard)();o(e)}finally{b(!1)}})()},[]),w)return(0,j.jsx)(i.default,{scrollable:!1,children:(0,j.jsx)(l.default,{style:p.center,children:(0,j.jsx)(r.default,{color:h.default.secondary})})});return(0,j.jsxs)(i.default,{children:[(0,j.jsx)(x.default,{variant:"card"}),(0,j.jsx)(s.default,{style:p.title,children:"Panel general"}),(0,j.jsx)(s.default,{style:p.subtitle,children:"Super usuario"}),(0,j.jsxs)(n.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:p.statsRow,children:[(0,j.jsx)(u.default,{label:"Obras activas",value:e?.totals?.productions||0}),(0,j.jsx)(u.default,{label:"Funciones",value:e?.totals?.functions||0,gradient:h.default.gradientSecondary}),(0,j.jsx)(u.default,{label:"Tickets generados",value:e?.totals?.tickets||0,helper:`Vendidos: ${e?.totals?.sold||0}`}),(0,j.jsx)(u.default,{label:"Asistencias",value:e?.totals?.attendees||0})]}),(0,j.jsxs)(c.default,{title:"Alertas",subtitle:"Movimientos clave de directores",children:[(e?.alerts||[]).map(e=>(0,j.jsxs)(l.default,{style:p.alertRow,children:[(0,j.jsx)(l.default,{style:p.alertDot}),(0,j.jsxs)(l.default,{children:[(0,j.jsx)(s.default,{style:p.alertTitle,children:e.title}),(0,j.jsx)(s.default,{style:p.alertBody,children:e.body})]})]},e.id)),(!e?.alerts||0===e.alerts.length)&&(0,j.jsx)(s.default,{style:p.empty,children:"Sin novedades por ahora"})]}),(0,j.jsxs)(c.default,{title:"Pr\xf3ximas funciones",subtitle:"48 horas",children:[(e?.upcomingShows||[]).map(e=>(0,j.jsx)(f.default,{show:e,footer:(0,j.jsxs)(s.default,{style:p.showFooter,children:[e.ventasPagadas," entradas pagadas \xb7 ",e.actoresAsignados," actores"]})},e.id)),(!e?.upcomingShows||0===e.upcomingShows.length)&&(0,j.jsx)(s.default,{style:p.empty,children:"No hay funciones agendadas"})]})]})};var t=(function(e,t){if("function"==typeof WeakMap)var l=new WeakMap,s=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(o=t?s:l){if(o.has(e))return o.get(e);o.set(e,n)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?o(n,t,r):n[t]=e[t]);return n})(e,t)})(_r(d[1])),l=e(_r(d[2])),s=e(_r(d[3])),o=e(_r(d[4])),r=e(_r(d[5])),n=e(_r(d[6])),i=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),f=e(_r(d[10])),h=e(_r(d[11])),y=_r(d[12]),x=e(_r(d[13])),j=_r(d[14]);const p=o.default.create({title:{color:h.default.white,fontSize:24,fontWeight:'700'},subtitle:{color:h.default.textMuted,marginBottom:16},statsRow:{marginBottom:16},alertRow:{flexDirection:'row',gap:12,alignItems:'flex-start'},alertDot:{width:10,height:10,marginTop:6,borderRadius:5,backgroundColor:h.default.secondary},alertTitle:{color:h.default.white,fontWeight:'700'},alertBody:{color:h.default.textMuted},empty:{color:h.default.textSoft,fontStyle:'italic'},showFooter:{color:h.default.textMuted},center:{flex:1,justifyContent:'center',alignItems:'center'}})},758,[1,14,155,292,27,355,241,533,740,660,741,535,349,703,352]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const[e,o]=(0,t.useState)([]),[p,j]=(0,t.useState)(!0),[C,v]=(0,t.useState)([]),[w,P]=(0,t.useState)({nombre:'',cedula:''}),[T,k]=(0,t.useState)(!1),E=async()=>{j(!0);try{const[e,t]=await Promise.all([(0,x.listDirectors)(),(0,x.listVendors)()]);o(e),v(t)}finally{j(!1)}};(0,t.useEffect)(()=>{E()},[]);const W=async e=>{i.default.alert('Resetear contrasena',`Queres restablecer la contrasena de ${e} a 1234?`,[{text:'Cancelar',style:'cancel'},{text:'Confirmar',onPress:async()=>{await(0,x.resetDirectorPassword)(e),i.default.alert('Hecho','Contrasena reseteada')}}])};return(0,b.jsxs)(u.default,{children:[(0,b.jsxs)(f.default,{title:"Crear director",subtitle:"Cada director administra sus obras",children:[(0,b.jsx)(n.default,{style:h.input,placeholder:"Nombre",placeholderTextColor:y.default.textSoft,value:w.nombre,onChangeText:e=>P(t=>Object.assign({},t,{nombre:e}))}),(0,b.jsx)(n.default,{style:h.input,placeholder:"Cedula",placeholderTextColor:y.default.textSoft,value:w.cedula,onChangeText:e=>P(t=>Object.assign({},t,{cedula:e})),keyboardType:"numeric"}),(0,b.jsx)(s.default,{style:h.button,onPress:async()=>{if(w.nombre&&w.cedula){k(!0);try{await(0,x.createDirector)(w),P({nombre:'',cedula:''}),E(),i.default.alert('Listo','Director creado con contrasena 1234')}catch(e){i.default.alert('Error',e.message||'No se pudo crear')}finally{k(!1)}}else i.default.alert('Falta info','Completa nombre y cedula')},disabled:T,children:T?(0,b.jsx)(c.default,{color:y.default.black}):(0,b.jsx)(l.default,{style:h.buttonText,children:"Crear director"})})]}),(0,b.jsx)(f.default,{title:"Directores activos",subtitle:`${e.length} cuentas`,children:p?(0,b.jsx)(c.default,{color:y.default.secondary}):e.map(e=>(0,b.jsxs)(r.default,{style:h.row,children:[(0,b.jsxs)(r.default,{children:[(0,b.jsx)(l.default,{style:h.name,children:e.nombre}),(0,b.jsx)(l.default,{style:h.meta,children:e.cedula}),(0,b.jsxs)(l.default,{style:h.meta,children:[e.obras," obras /  ",e.funciones," funciones"]})]}),(0,b.jsxs)(r.default,{style:h.actionsRow,children:[(0,b.jsx)(s.default,{onPress:()=>W(e.cedula),style:h.secondaryButton,children:(0,b.jsx)(l.default,{style:h.secondaryText,children:"Reset pass"})}),(0,b.jsx)(s.default,{onPress:()=>{return t=e.cedula,void i.default.alert('Eliminar director',`Se van a borrar las obras y funciones asignadas a ${t}. Continuar?`,[{text:'Cancelar',style:'cancel'},{text:'Eliminar',style:'destructive',onPress:async()=>{try{await(0,x.deleteDirector)(t),E(),i.default.alert('Listo','Director eliminado')}catch(e){i.default.alert('Error',e.message||'No se pudo eliminar')}}}]);var t},style:h.dangerButton,children:(0,b.jsx)(l.default,{style:h.dangerText,children:"Eliminar"})})]})]},e.cedula))}),(0,b.jsx)(f.default,{title:"Vendedores",subtitle:`${C.length} cuentas`,children:p?(0,b.jsx)(c.default,{color:y.default.secondary}):0===C.length?(0,b.jsx)(l.default,{style:h.empty,children:"Todavia no tenes vendedores"}):C.map(e=>(0,b.jsxs)(r.default,{style:h.row,children:[(0,b.jsxs)(r.default,{children:[(0,b.jsx)(l.default,{style:h.name,children:e.nombre}),(0,b.jsx)(l.default,{style:h.meta,children:e.cedula}),(0,b.jsxs)(l.default,{style:h.meta,children:["Stock ",e.stock," /  Vendidas ",e.vendidas," /  Pagadas ",e.pagadas]})]}),(0,b.jsx)(s.default,{onPress:()=>{return t=e.cedula,void i.default.alert('Eliminar vendedor',`El stock de ${t} volvera a direccion. Confirmas?`,[{text:'Cancelar',style:'cancel'},{text:'Eliminar',style:'destructive',onPress:async()=>{try{await(0,x.deleteVendor)(t),E(),i.default.alert('Listo','Vendedor eliminado')}catch(e){i.default.alert('Error',e.message||'No se pudo eliminar')}}}]);var t},style:h.dangerButton,children:(0,b.jsx)(l.default,{style:h.dangerText,children:"Eliminar"})})]},e.cedula))})]})};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,n,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?l:r){if(o.has(e))return o.get(e);o.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?o(s,t,n):s[t]=e[t]);return s})(e,t)})(_r(d[1])),r=e(_r(d[2])),l=e(_r(d[3])),o=e(_r(d[4])),n=e(_r(d[5])),s=e(_r(d[6])),i=e(_r(d[7])),c=e(_r(d[8])),u=e(_r(d[9])),f=e(_r(d[10])),y=e(_r(d[11])),x=_r(d[12]),b=_r(d[13]);const h=o.default.create({input:{backgroundColor:y.default.surface,borderRadius:12,borderWidth:1,borderColor:y.default.border,padding:12,color:y.default.text},button:{backgroundColor:y.default.secondary,paddingVertical:14,borderRadius:12,alignItems:'center'},buttonText:{color:y.default.black,fontWeight:'700'},row:{flexDirection:'row',justifyContent:'space-between',paddingVertical:12,borderBottomWidth:1,borderBottomColor:y.default.border},actionsRow:{flexDirection:'row',gap:8},name:{color:y.default.white,fontWeight:'700'},meta:{color:y.default.textMuted,fontSize:12},secondaryButton:{paddingHorizontal:12,paddingVertical:8,borderRadius:10,borderWidth:1,borderColor:y.default.secondary},secondaryText:{color:y.default.secondary,fontWeight:'600'},dangerButton:{paddingHorizontal:12,paddingVertical:8,borderRadius:10,borderWidth:1,borderColor:y.default.error},dangerText:{color:y.default.error,fontWeight:'600'}})},759,[1,14,155,292,27,325,532,537,355,533,660,535,349,352]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const[e,r]=(0,t.useState)([]),[y,j]=(0,t.useState)({titulo:'',descripcion:'',color:'#F48C06'}),[C,w]=(0,t.useState)(!1),[v,O]=(0,t.useState)(!0),S=async()=>{O(!0);try{const e=await(0,b.listProductions)();r(e)}finally{O(!1)}};(0,t.useEffect)(()=>{S()},[]);return(0,x.jsxs)(c.default,{children:[(0,x.jsxs)(f.default,{title:"Nueva obra",subtitle:"Define la paleta y la sinopsis",children:[(0,x.jsx)(n.default,{style:h.input,placeholder:"Nombre de la obra",placeholderTextColor:p.default.textSoft,value:y.titulo,onChangeText:e=>j(t=>Object.assign({},t,{titulo:e}))}),(0,x.jsx)(n.default,{style:[h.input,h.multiline],placeholder:"Descripci\xf3n / sinopsis",placeholderTextColor:p.default.textSoft,multiline:!0,numberOfLines:3,value:y.descripcion,onChangeText:e=>j(t=>Object.assign({},t,{descripcion:e}))}),(0,x.jsx)(n.default,{style:h.input,placeholder:"#F48C06",placeholderTextColor:p.default.textSoft,value:y.color,onChangeText:e=>j(t=>Object.assign({},t,{color:e}))}),(0,x.jsx)(i.default,{style:h.button,onPress:async()=>{if(y.titulo){w(!0);try{await(0,b.createProduction)(y),j({titulo:'',descripcion:'',color:y.color}),S()}catch(e){s.default.alert('Error',e.message||'No se pudo crear la obra')}finally{w(!1)}}else s.default.alert('Falta t\xedtulo','Ingres\xe1 el nombre de la obra')},disabled:C,children:C?(0,x.jsx)(u.default,{color:p.default.black}):(0,x.jsx)(o.default,{style:h.buttonText,children:"Crear obra"})})]}),(0,x.jsx)(f.default,{title:"Obras en cartel",subtitle:`${e.length} proyectos`,children:v?(0,x.jsx)(u.default,{color:p.default.secondary}):0===e.length?(0,x.jsx)(o.default,{style:h.empty,children:"Todav\xeda no creaste obras"}):e.map(e=>(0,x.jsxs)(l.default,{style:h.row,children:[(0,x.jsx)(l.default,{style:h.colorDot(e.color)}),(0,x.jsxs)(l.default,{style:{flex:1},children:[(0,x.jsx)(o.default,{style:h.name,children:e.titulo}),(0,x.jsxs)(o.default,{style:h.meta,children:[e.funciones," funciones \xb7 ",e.entradas," entradas"]})]}),(0,x.jsx)(o.default,{style:h.meta,children:e.estado})]},e.id))})]})};var t=(function(e,t){if("function"==typeof WeakMap)var l=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,n,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?o:l){if(r.has(e))return r.get(e);r.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?r(i,t,n):i[t]=e[t]);return i})(e,t)})(_r(d[1])),l=e(_r(d[2])),o=e(_r(d[3])),r=e(_r(d[4])),n=e(_r(d[5])),i=e(_r(d[6])),s=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),f=e(_r(d[10])),p=e(_r(d[11])),b=_r(d[12]),x=_r(d[13]);const h=r.default.create({input:{backgroundColor:p.default.surface,borderRadius:12,borderWidth:1,borderColor:p.default.border,padding:12,color:p.default.text},multiline:{textAlignVertical:'top'},button:{backgroundColor:p.default.secondary,paddingVertical:14,borderRadius:12,alignItems:'center'},buttonText:{color:p.default.black,fontWeight:'700'},row:{flexDirection:'row',alignItems:'center',gap:12,paddingVertical:10,borderBottomWidth:1,borderBottomColor:p.default.border},colorDot:e=>({width:14,height:14,borderRadius:7,backgroundColor:e}),name:{color:p.default.white,fontWeight:'700'},meta:{color:p.default.textMuted,fontSize:12},empty:{color:p.default.textSoft,fontStyle:'italic'}})},760,[1,14,155,292,27,325,532,537,355,533,660,535,349,352]);