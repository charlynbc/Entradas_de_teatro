{% extends "base.html" %}

{% block title %}{{ evento.nombre }} - Teatro{% endblock %}

{% block content %}
<style>
    .evento-detalle { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .evento-imagen-grande { width: 100%; max-height: 400px; object-fit: cover; border-radius: 8px; margin-bottom: 20px; }
    .evento-info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
    .info-item { padding: 15px; background: #f8f9fa; border-radius: 5px; }
</style>

<div class="evento-detalle">
    <a href="/" class="btn btn-secondary" style="margin-bottom: 20px;">â† Volver a Eventos</a>
    
    {% if evento.imagen_url %}
    <img src="{{ evento.imagen_url }}" alt="{{ evento.nombre }}" class="evento-imagen-grande">
    {% endif %}
    
    <h2>{{ evento.nombre }}</h2>
    
    <div class="evento-info-grid">
        <div class="info-item">
            <strong>ğŸ“… Fecha y Hora:</strong><br>
            {{ evento.fecha }} a las {{ evento.hora }}
        </div>
        <div class="info-item">
            <strong>ğŸ“ Lugar:</strong><br>
            {{ evento.lugar }}
        </div>
        <div class="info-item">
            <strong>ğŸ’° Precio:</strong><br>
            <span style="font-size: 1.5rem; color: #28a745;">${{ "%.2f"|format(evento.precio) }}</span>
        </div>
        <div class="info-item">
            <strong>ğŸ« Disponibilidad:</strong><br>
            {% if evento.entradas_disponibles > 0 %}
                <span style="color: #28a745;">{{ evento.entradas_disponibles }} entradas disponibles</span>
            {% else %}
                <span style="color: #dc3545;">Agotado</span>
            {% endif %}
        </div>
    </div>
    
    {% if evento.descripcion %}
    <div style="margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 5px;">
        <h3>DescripciÃ³n</h3>
        <p>{{ evento.descripcion }}</p>
    </div>
    {% endif %}
    
    <div style="margin-top: 30px;">
        {% if evento.entradas_disponibles > 0 %}
            {% if session.user_id %}
                <a href="/comprar/{{ evento.id }}" class="btn btn-success" style="font-size: 1.2rem; padding: 15px 30px;">ğŸ« Comprar Entradas</a>
            {% else %}
                <a href="/login" class="btn btn-success" style="font-size: 1.2rem; padding: 15px 30px;">Iniciar SesiÃ³n para Comprar</a>
            {% endif %}
        {% else %}
            <button class="btn btn-secondary" disabled style="font-size: 1.2rem; padding: 15px 30px;">Entradas Agotadas</button>
        {% endif %}
    </div>
</div>
{% endblock %}
